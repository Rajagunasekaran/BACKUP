DROP PROCEDURE IF EXISTS MY_CURSOR_PROCEDURE;
CREATE PROCEDURE MY_CURSOR_PROCEDURE(MY_PARAM VARCHAR(32))
BEGIN
  DECLARE DONE INT DEFAULT 0;
  DECLARE SOME_VAR1 CHAR(16);
  DECLARE SOME_VAR2 CHAR(16);

  DECLARE MY_VIEW CURSOR FOR SELECT PH_DESCRIPTION,PH_DATE FROM PUBLIC_HOLIDAY WHERE PH_ID = MY_PARAM;
  DECLARE CONTINUE HANDLER FOR NOT FOUND SET DONE = 1;

  OPEN MY_VIEW;
  
  REPEAT
    FETCH MY_VIEW INTO SOME_VAR1, SOME_VAR2;
    IF NOT DONE THEN
      INSERT INTO PUBLIC_HOLIDAY VALUES (NULL,SOME_VAR1, SOME_VAR2);
    END IF;
  UNTIL DONE END REPEAT;

  CLOSE MY_VIEW;
END;

CALL MY_CURSOR_PROCEDURE('2');